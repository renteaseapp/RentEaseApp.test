# RentEase Web (ระบบเช่า-ให้เช่าสินค้าออนไลน์)

แพลตฟอร์ม Marketplace สำหรับเช่า-ให้เช่าสินค้าออนไลน์ สร้างด้วย React, TypeScript, Tailwind CSS รองรับทั้งภาษาไทยและอังกฤษ

## ฟีเจอร์หลัก

- ระบบค้นหาและกรองสินค้าแบบ Real-time
- ระบบแชทระหว่างผู้ใช้
- ระบบแจ้งเตือนและอัปเดตสถานะ
- ระบบรีวิวและร้องเรียน
- ระบบการชำระเงินที่ปลอดภัย
- รองรับหลายบทบาท: ผู้เช่า, เจ้าของ, แอดมิน
- ระบบจัดการสินค้า, การเช่า, ผู้ใช้ และรายงานสำหรับแอดมิน
- รองรับมือถือและเดสก์ท็อป

## โครงสร้างโปรเจกต์

```
rentease-webv3/
├── components/        # UI Components ที่ใช้ซ้ำ
├── contexts/          # React Context (Auth, Alert)
├── features/          # ฟีเจอร์แยกตามบทบาท/หมวดหมู่
│   ├── admin/         # ฟีเจอร์สำหรับแอดมิน
│   ├── auth/          # ระบบล็อกอิน/สมัครสมาชิก
│   ├── chat/          # ระบบแชท
│   ├── complaints/    # ระบบร้องเรียน
│   ├── owner/         # ฟีเจอร์เจ้าของสินค้า
│   ├── products/      # หน้ารวมสินค้า/รายละเอียด/ค้นหา
│   ├── renter/        # ฟีเจอร์ผู้เช่า
│   ├── static/        # หน้าข้อมูลคงที่ (About, FAQ)
│   └── user/          # โปรไฟล์ผู้ใช้ ฯลฯ
├── services/          # ฟังก์ชันเรียก API
├── public/locales/    # ไฟล์แปลภาษา (en, th)
├── routes/            # Route Protection
├── types.ts           # TypeScript Types
├── App.tsx            # จุดเริ่มต้นแอป
└── ...                # ไฟล์อื่นๆ
```

## วิธีติดตั้งและรัน

**Prerequisites:** ต้องติดตั้ง Node.js

1. ติดตั้ง dependencies:
   ```bash
   npm install
   ```

2. ตั้งค่า AI Chat Assistant (ถ้าต้องการ):
   - สมัคร OpenRouter API Key ที่ [openrouter.ai](https://openrouter.ai/)
   - สร้างไฟล์ `.env.local` และเพิ่ม `VITE_OPENROUTER_API_KEY=your_api_key_here`
   - ดูรายละเอียดเพิ่มเติมใน `AI_CHAT_SETUP.md`

3. รันแอปพลิเคชัน:
   ```bash
   npm run dev
   ```

## เทคโนโลยีที่ใช้

- React 19, TypeScript
- Tailwind CSS
- React Router DOM
- i18next (แปลภาษา)
- Axios (HTTP)
- Vite (Build tool)
- React Context API (State management)
- Socket.io (Real-time)
- Cypress (E2E test)
- OpenRouter API (AI Chat Assistant - Google Gemini 2.0 Flash Exp)

## ฟีเจอร์เด่น (ตัวอย่าง)

- **ค้นหา/กรองสินค้า:** ค้นหาด้วยชื่อ, หมวดหมู่, สถานะ, ฯลฯ พร้อมแสดงผลแบบ Real-time
- **Dashboard:** แยกตามบทบาท (ผู้เช่า, เจ้าของ, แอดมิน)
- **ระบบร้องเรียน/รีวิว:** ผู้ใช้สามารถร้องเรียนหรือรีวิวการเช่าได้
- **ระบบแอดมิน:** จัดการผู้ใช้, สินค้า, รายงาน, หมวดหมู่ ฯลฯ
- **ระบบแชท:** พูดคุยระหว่างผู้เช่า-เจ้าของ
- **AI Chat Assistant:** ใช้ Google Gemini 2.0 Flash Exp ผ่าน OpenRouter API
- **รองรับหลายภาษา:** ไทย/อังกฤษ

## การแปลภาษา

ไฟล์แปลภาษาอยู่ที่ `public/locales/en/` และ `public/locales/th/` สามารถเพิ่ม/แก้ไขข้อความได้ที่นี่

## การทดสอบ

ใช้ Cypress สำหรับ E2E test (ดูในโฟลเดอร์ `cypress/`)

---

หากต้องการรายละเอียดเชิงลึกของแต่ละไฟล์/ฟีเจอร์ หรือเน้นเฉพาะส่วนใด แจ้งได้เลย!

# ขอบเขตโครงงานตามระบบปัจจุบัน (Project Scope as Implemented)

## 1.3 ขอบเขตโครงงาน (Flow การใช้งานรวมทุกบทบาท)

### 1.3.1 การเข้าชมและการสมัครสมาชิก
- 1.3.1.1 ผู้ใช้ทั่วไปสามารถเข้าดูรายการสินค้าได้ทันทีโดยไม่ต้องสมัครสมาชิก
- 1.3.1.2 หากต้องการเช่าหรือให้เช่าสินค้าจะต้องสมัครสมาชิกและเข้าสู่ระบบก่อน โดยกรอกข้อมูลส่วนบุคคล เช่น ชื่อ-นามสกุล ที่อยู่ เบอร์โทรศัพท์ และอีเมล
- 1.3.1.3 ผู้เช่าต้องยืนยันตัวตนโดยอัปโหลดรูปถ่ายคู่กับบัตรประชาชนและกรอกที่อยู่จัดส่ง ระบบจะบันทึกข้อมูลและรอการตรวจสอบจากผู้ดูแลระบบก่อนเปิดสิทธิ์การใช้งานเต็มรูปแบบ
- 1.3.1.4 หากลืมรหัสผ่าน ผู้ใช้สามารถขอรีเซ็ตรหัสผ่านผ่านอีเมลที่ลงทะเบียนไว้ ระบบจะส่งรหัส OTP ไปยังอีเมลที่ลงทะเบียนไว้ ผู้ใช้ต้องกรอกรหัส OTP เพื่อรีเซ็ตรหัสผ่าน
- 1.3.1.5 ผู้ดูแลระบบมีช่องทางเข้าสู่ระบบแยกต่างหากเพื่อจัดการระบบหลังบ้าน

### 1.3.2 การค้นหาและการจัดการสินค้า
- 1.3.2.1 สมาชิกสามารถค้นหาสินค้าด้วยตัวกรอง เช่น จังหวัด หมวดหมู่ หรือคำค้นหา ระบบจะแสดงรายการสินค้าที่ตรงกับเงื่อนไข
- 1.3.2.2 สามารถดูรายละเอียดสินค้า เปรียบเทียบราคา เงื่อนไขการเช่า และรีวิวจากผู้เช่าคนอื่น ๆ ก่อนตัดสินใจเช่า
- 1.3.2.3 สามารถบันทึกสินค้าที่สนใจไว้ในรายการโปรดเพื่อดูภายหลัง
- 1.3.2.4 ผู้ให้เช่าสามารถลงประกาศสินค้าใหม่โดยกรอกข้อมูลรายละเอียดสินค้า เช่น ชื่อ รายละเอียด ยี่ห้อ รุ่น ขนาด น้ำหนัก คุณสมบัติพิเศษ ข้อตกลงการใช้งาน ราคาเช่า ค่ามัดจำ รายละเอียดการรับ-ส่งสินค้า อัปโหลดรูปภาพสินค้า และระบุสภาพปัจจุบันของสินค้า
- 1.3.2.5 ผู้ให้เช่าสามารถแก้ไขข้อมูลสินค้า อัปเดตรูปภาพ ลบสินค้า เปลี่ยนสถานะสินค้า (ว่าง/ไม่ว่าง/ระงับ) ตรวจสอบประวัติการเช่า ดูรีวิว/คะแนน และดูสถิติการเช่าและรายได้ของสินค้าตนเอง
- 1.3.2.6 ผู้ดูแลระบบสามารถตรวจสอบและจัดการข้อมูลสินค้าและหมวดหมู่ทั้งหมดในระบบ

### 1.3.3 กระบวนการเช่าและการอนุมัติ
- 1.3.3.1 ผู้เช่าสามารถเลือกสินค้าที่ต้องการเช่า เลือกระยะเวลาเช่า (1, 3, 5, 7, 15, 30 วัน) และเลือกวิธีรับ-ส่งสินค้า (นัดรับ/จัดส่ง)
- 1.3.3.2 กรอกที่อยู่สำหรับการรับ-ส่งสินค้า ระบบจะบันทึกข้อมูลและแสดงรายละเอียดค่าใช้จ่าย
- 1.3.3.3 ยืนยันการเช่า ระบบจะส่งคำขอไปยังผู้ให้เช่าเพื่อพิจารณา
- 1.3.3.4 ผู้ให้เช่าตรวจสอบข้อมูลผู้เช่าและรายละเอียดการเช่า สามารถอนุมัติหรือปฏิเสธคำขอเช่า และระบุเหตุผลในการปฏิเสธได้
- 1.3.3.5 ระบบจะแจ้งผลการอนุมัติหรือปฏิเสธกลับไปยังผู้เช่าโดยอัตโนมัติ
- 1.3.3.6 เมื่อได้รับการอนุมัติ ผู้เช่าต้องชำระเงินตามช่องทางที่กำหนดและอัปโหลดหลักฐานการชำระเงินเข้าสู่ระบบ
- 1.3.3.7 ผู้ให้เช่าตรวจสอบหลักฐานการชำระเงินและยืนยันการรับเงินในระบบ
- 1.3.3.8 ผู้ให้เช่าจัดเตรียมสินค้าและดำเนินการส่งมอบตามวิธีที่ตกลงกับผู้เช่า
- 1.3.3.9 ทั้งผู้เช่าและผู้ให้เช่าสามารถติดตามสถานะการเช่าและการชำระเงินผ่านระบบแจ้งเตือน

### 1.3.4 การแชทและการติดต่อสื่อสาร
- 1.3.4.1 หลังจากผู้ให้เช่าอนุมัติคำขอเช่า ระบบจะเปิดช่องทางแชทระหว่างผู้เช่าและผู้ให้เช่าเพื่อพูดคุยรายละเอียดการรับ-ส่งสินค้า นัดหมาย แจ้งปัญหา หรือขอข้อมูลเพิ่มเติม
- 1.3.4.2 ข้อความแชททั้งหมดจะถูกบันทึกไว้ในระบบเพื่อใช้เป็นหลักฐานในกรณีเกิดข้อขัดแย้ง
- 1.3.4.3 ผู้ดูแลระบบสามารถตรวจสอบประวัติการแชทได้หากมีข้อร้องเรียน

### 1.3.5 การรับ-ส่งและคืนสินค้า
- 1.3.5.1 เมื่อถึงกำหนดรับสินค้า ผู้เช่าและผู้ให้เช่าดำเนินการรับ-ส่งสินค้าตามวิธีที่ตกลงกัน (นัดรับ/จัดส่ง)
- 1.3.5.2 หลังครบกำหนดเช่า ผู้เช่าต้องดำเนินการส่งคืนสินค้าตามวิธีที่ผู้ให้เช่าระบุ
- 1.3.5.3 ผู้ให้เช่าตรวจสอบสภาพสินค้าเมื่อได้รับคืนและอัปเดตสถานะในระบบว่าคืนสินค้าเรียบร้อยหรือมีความเสียหาย
- 1.3.5.4 หากพบความเสียหาย ผู้ให้เช่าสามารถแจ้งค่าชดเชยและบันทึกข้อมูลไว้ในระบบเพื่อใช้ประกอบการพิจารณาในอนาคต
- 1.3.5.5 ผู้เช่าแจ้งสถานะการคืนสินค้าในระบบและรอการตรวจสอบจากผู้ให้เช่า
- 1.3.5.6 เมื่อทุกอย่างเรียบร้อย ผู้ให้เช่ายืนยันการคืนสินค้าและปิดรายการเช่า

### 1.3.6 การรีวิวและให้คะแนน
- 1.3.6.1 หลังการเช่าเสร็จสิ้น ทั้งผู้เช่าและผู้ให้เช่าสามารถให้คะแนนและรีวิวซึ่งกันและกันได้ เพื่อสร้างความน่าเชื่อถือและโปร่งใสในระบบ

### 1.3.7 การจัดการข้อร้องเรียน
- 1.3.7.1 ผู้เช่าสามารถยื่นข้อร้องเรียนเกี่ยวกับปัญหาการเช่าหรือการคืนสินค้าผ่านระบบร้องเรียนในแพลตฟอร์ม และติดตามผลการดำเนินการผ่านระบบ
- 1.3.7.2 ผู้ให้เช่าสามารถติดต่อผู้ดูแลระบบเพื่อขอความช่วยเหลือในกรณีเกิดข้อขัดแย้งหรือปัญหากับผู้เช่า และติดตามผลการดำเนินการผ่านระบบ
- 1.3.7.3 ผู้ดูแลระบบตรวจสอบข้อร้องเรียนและดำเนินการตามขั้นตอนที่กำหนด พร้อมแจ้งผลการตรวจสอบกลับไปยังผู้ร้องเรียน
- 1.3.7.4 ผู้ดูแลระบบสามารถแบนบัญชีผู้ใช้งานที่ละเมิดข้อตกลงหรือทำผิดกฎของแพลตฟอร์ม

### 1.3.8 การจัดการและรายงานโดยผู้ดูแลระบบ
- 1.3.8.1 ผู้ดูแลระบบสามารถตรวจสอบและจัดการข้อมูลผู้ใช้งาน สินค้า หมวดหมู่ การเช่า เนื้อหาคงที่ และตั้งค่าระบบได้
- 1.3.8.2 ผู้ดูแลระบบสามารถดูและจัดทำรายงานสถิติการใช้งาน เช่น จำนวนการเช่า รายได้ของผู้ให้เช่า สถิติการใช้งาน รายงานปัญหาที่ถูกร้องเรียน และประเมินความน่าเชื่อถือของผู้ใช้งาน

### 1.3.9 ฟีเจอร์ทั่วไป
- 1.3.9.1 ระบบมีหน้าข้อมูลทั่วไป เช่น เกี่ยวกับเรา ข้อกำหนด เงื่อนไข และคำถามที่พบบ่อย เพื่อให้ข้อมูลแก่ผู้ใช้
- 1.3.9.2 ผู้ใช้สามารถบันทึกรายการโปรดเพื่อดูภายหลังได้
- 1.3.9.3 ผู้ใช้สามารถแก้ไขข้อมูลส่วนตัวและที่อยู่จัดส่งได้ด้วยตนเอง

---

> **หมายเหตุ:**
> - ระบบปัจจุบันมีฟีเจอร์และ flow ครอบคลุมขอบเขตที่ระบุไว้ข้างต้น
> - หากต้องการรายละเอียด logic หรือ flow เพิ่มเติมในแต่ละบทบาท/ฟีเจอร์ สามารถขอได้
